# General approach

Genes from ARG annotation outputs are mapped to ARO accessions using ARO annotation tables. ARO annotation tables are constructed using the RGI (Alcock et al., 2023) and manual curation. All databases except MEGARes v3.0 are handled as amino acid files, where all ARG sequences (coding sequences) in the databases are translated to amino acid form using BioPython (Cock et al., 2009). The amino acid files are processed by RGI using the ‘protein’ mode to map genes to the ARO. The ‘Original ID’ (gene name in ARG annotation database), ‘Best_Hit_ARO’ (gene name in CARD) and ‘ARO’ (ARO accession) columns from the RGI output are specifically chosen from the RGI output, with the ‘Best_Hit_ARO’ column renamed to ‘Gene Name in CARD’ , to form the automated annotation tables. Genes which were not given an ARO mapping by RGI are manually assigned an ARO accession. The manual curation and automated annotation tables are combined to produce ARO annotation tables.

# Handling ResFinder
The ResFinder v4.0 is a notable example as it contains forty instances of gene clusters or sequences with multiple coding sequences within (e.g. vanM_1_FJ349556 contains seven coding sequences). As RGI maps a single gene from the ResFinder database to multiple AROs (corresponding to different coding sequences within) in cases with gene clusters, gene clusters are manually assigned ARO accessions corresponding to specific gene clusters. Reverse complement sequences within ResFinder are also manually assigned ARO accessions.

# Handling MEGARes
MEGARes v3.0 is composed of multiple public genomic repositories including ResFinder, ARG-ANNOT, the National Center for Biotechnology Information (NCBI) Lahey Clinic beta-lactamase archive, the Comprehensive Antibiotic Resistance Database (CARD), NCBI’s Bacterial Antimicrobial Resistance Reference Gene Database and BacMet. The CARD database and hence the ARO do not support metal and biocide resistance, and so all entries from BacMet are removed to construct the ARO mapping table for MEGARes. Entries from ResFinder and ARG-ANNOT are directly mapped using respective ARO annotation tables, while all other entries are mapped using RGI. All coding sequences and reverse complements are translated to amino acid sequences and processed by RGI using the ‘protein’ mode. All other sequences are processed by RGI using the ‘contig’ mode. The RGI outputs are modified as mentioned above and combined with ResFinder and ARG-ANNOT mappings to form automated annotation tables. Genes which were not given an ARO mapping by RGI are manually assigned an ARO accession. The manual curation and automated annotation tables are combined to produce ARO annotation tables.

> Note: While manually assigning ARO accessions to genes, if the gene cannot be found in the ARO and if the gene does not have a parent ARO accession, no ARO mapping will be provided.
